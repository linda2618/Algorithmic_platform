{"ast":null,"code":"import { ref, reactive } from 'vue';\nimport { AddOneGoods } from '@/axios/apis.js';\nimport { ElMessage } from \"element-plus\";\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const TopicDetail = ref({});\n    const TopicDetailRef = ref();\n    const src = 'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg';\n    var checkName = (rule, value, cb) => {\n      //验证价格的正则表达式\n      let regName = /^[\\u4E00-\\u9FA5A-Za-z0-9_]+$/;\n      if (regName.test(value)) {\n        cb();\n      } else {\n        cb(new Error(\"价格是不小于0的整数\"));\n      }\n    };\n    var checkPrice = (rule, value, cb) => {\n      //验证价格的正则表达式\n      let regPrice = /^[1-9]\\d*|0$/;\n      if (regPrice.test(value)) {\n        cb();\n      } else {\n        cb(new Error(\"价格是不小于0的整数\"));\n      }\n    };\n    var checkNumber = (rule, value, cb) => {\n      //验证价格的正则表达式\n      let regNumber = /^[1-9]\\d*|0$/;\n      if (regNumber.test(value)) {\n        cb();\n      } else {\n        cb(new Error(\"数量是不小于0的整数\"));\n      }\n    };\n    var checkWeight = (rule, value, cb) => {\n      //验证价格的正则表达式\n      let regWeight = /^[1-9]\\d*|0$/;\n      if (regWeight.test(value)) {\n        cb();\n      } else {\n        cb(new Error(\"重量是不小于0的整数\"));\n      }\n    };\n    const TopicDetailRules = reactive({\n      goods_name: [{\n        required: true,\n        message: \"请输入价格\",\n        trigger: \"blur\"\n      }, {\n        validator: checkPrice,\n        trigger: \"blur\"\n      }],\n      goods_price: [{\n        required: true,\n        message: \"请输入价格\",\n        trigger: \"blur\"\n      }, {\n        validator: checkPrice,\n        trigger: \"blur\"\n      }],\n      goods_cat: [{\n        required: true,\n        message: \"请输入商品猫\",\n        trigger: \"blur\"\n      }, {\n        type: 'String',\n        message: \"商品猫为以,分隔的字符串\",\n        trigger: \"blur\"\n      }],\n      goods_number: [{\n        required: true,\n        message: \"请输入数量\",\n        trigger: \"blur\"\n      }, {\n        validator: checkNumber,\n        trigger: \"blur\"\n      }],\n      goods_weight: [{\n        required: true,\n        message: \"请输入重量\",\n        trigger: \"blur\"\n      }, {\n        validator: checkWeight,\n        trigger: \"blur\"\n      }]\n    });\n    const labelPosition = ref('left');\n    const size = ref('large');\n\n    //取消按钮\n    const resetForm = () => {\n      TopicDetailRef.value.resetFields();\n    };\n\n    //确定按钮\n    const AddGoods = async () => {\n      const res = await changeGoodsState(TopicDetail.value);\n      console.log(res);\n    };\n    const __returned__ = {\n      TopicDetail,\n      TopicDetailRef,\n      src,\n      get checkName() {\n        return checkName;\n      },\n      set checkName(v) {\n        checkName = v;\n      },\n      get checkPrice() {\n        return checkPrice;\n      },\n      set checkPrice(v) {\n        checkPrice = v;\n      },\n      get checkNumber() {\n        return checkNumber;\n      },\n      set checkNumber(v) {\n        checkNumber = v;\n      },\n      get checkWeight() {\n        return checkWeight;\n      },\n      set checkWeight(v) {\n        checkWeight = v;\n      },\n      TopicDetailRules,\n      labelPosition,\n      size,\n      resetForm,\n      AddGoods,\n      ref,\n      reactive,\n      get AddOneGoods() {\n        return AddOneGoods;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","reactive","AddOneGoods","ElMessage","TopicDetail","TopicDetailRef","src","checkName","rule","value","cb","regName","test","Error","checkPrice","regPrice","checkNumber","regNumber","checkWeight","regWeight","TopicDetailRules","goods_name","required","message","trigger","validator","goods_price","goods_cat","type","goods_number","goods_weight","labelPosition","size","resetForm","resetFields","AddGoods","res","changeGoodsState","console","log"],"sources":["D:/前端基础/22科技月评-算法在线刷题平台/algorithmic_platform/src/components/AddTopic/index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-card>\r\n            <el-form ref=\"TopicDetailRef\" :label-position=\"labelPosition\" label-width=\"100px\" :model=\"TopicDetail\"\r\n                :rules=\"TopicDetailRules\" style=\"max-width: 800px\" :size=\"size\">\r\n                <el-form-item label=\"商品名称\" prop=\"goods_name\">\r\n                    <el-input v-model=\"TopicDetail.goods_name\" type=\"textarea\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"价格\" prop=\"goods_price\">\r\n                    <el-input v-model=\"TopicDetail.goods_price\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"商品猫\" prop=\"goods_cat\">\r\n                    <el-input v-model=\"TopicDetail.goods_cat\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"数量\" prop=\"goods_number\">\r\n                    <el-input v-model=\"TopicDetail.goods_number\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"重量\" prop=\"goods_weight\">\r\n                    <el-input v-model=\"TopicDetail.goods_weight\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"添加时间\" prop=\"add_time\">\r\n                    <el-input v-model=\"TopicDetail.add_time\" disabled />\r\n                </el-form-item>\r\n                <el-form-item label=\"更新时间\" prop=\"upd_time\">\r\n                    <el-input v-model=\"TopicDetail.upd_time\" disabled />\r\n                </el-form-item>\r\n                <el-form-item label=\"是否是热销品\" prop=\"is_promote\">\r\n                    <el-tag class=\"ml-2\" v-if=\"TopicDetail.is_promote === true\" type=\"success\" size=\"large\"> 是\r\n                    </el-tag>\r\n                    <el-tag class=\"ml-2\" v-if=\"TopicDetail.is_promote === false\" type=\"danger\" size=\"large\"> 否\r\n                    </el-tag>\r\n                    <el-tag class=\"ml-2\" v-else type=\"danger\" size=\"large\">\r\n                        <el-input v-model=\"TopicDetail.is_promote\" size=\"small\" />\r\n                    </el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"详情图片\" prop=\"is_promote\">\r\n                    <div class=\"demo-image__placeholder\">\r\n                        <div class=\"block\">\r\n                            <el-image :src=\"src\" class=\"imgSrc\">\r\n                                <template #placeholder>\r\n                                    <div class=\"image-slot\">Loading<span class=\"dot\">...</span></div>\r\n                                </template>\r\n                            </el-image>\r\n                        </div>\r\n                    </div>\r\n\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-button type=\"primary\" @click=\"AddGoods\" size=\"large\"> 确定 </el-button>\r\n            <el-button type=\"info\" @click=\"resetForm\" size=\"large\">取消</el-button>\r\n\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { AddOneGoods } from '@/axios/apis.js'\r\nimport { ElMessage } from \"element-plus\";\r\n\r\n\r\n\r\nconst TopicDetail = ref({})\r\nconst TopicDetailRef = ref()\r\nconst src =\r\n    'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg'\r\n\r\nvar checkName = (rule, value, cb) => {\r\n    //验证价格的正则表达式\r\n    let regName = /^[\\u4E00-\\u9FA5A-Za-z0-9_]+$/\r\n    if (regName.test(value)) {\r\n        cb();\r\n    } else {\r\n        cb(new Error(\"价格是不小于0的整数\"));\r\n    }\r\n}\r\n\r\nvar checkPrice = (rule, value, cb) => {\r\n    //验证价格的正则表达式\r\n    let regPrice = /^[1-9]\\d*|0$/\r\n    if (regPrice.test(value)) {\r\n        cb();\r\n    } else {\r\n        cb(new Error(\"价格是不小于0的整数\"));\r\n    }\r\n}\r\n\r\nvar checkNumber = (rule, value, cb) => {\r\n    //验证价格的正则表达式\r\n    let regNumber = /^[1-9]\\d*|0$/\r\n    if (regNumber.test(value)) {\r\n        cb();\r\n    } else {\r\n        cb(new Error(\"数量是不小于0的整数\"));\r\n    }\r\n}\r\nvar checkWeight = (rule, value, cb) => {\r\n    //验证价格的正则表达式\r\n    let regWeight = /^[1-9]\\d*|0$/\r\n    if (regWeight.test(value)) {\r\n        cb();\r\n    } else {\r\n        cb(new Error(\"重量是不小于0的整数\"));\r\n    }\r\n}\r\nconst TopicDetailRules = reactive({\r\n    goods_name: [\r\n        { required: true, message: \"请输入价格\", trigger: \"blur\" },\r\n        { validator: checkPrice, trigger: \"blur\" },\r\n    ],\r\n    goods_price: [\r\n        { required: true, message: \"请输入价格\", trigger: \"blur\" },\r\n        { validator: checkPrice, trigger: \"blur\" },\r\n    ],\r\n    goods_cat: [\r\n        { required: true, message: \"请输入商品猫\", trigger: \"blur\" },\r\n        { type: 'String', message: \"商品猫为以,分隔的字符串\", trigger: \"blur\" },\r\n\r\n    ],\r\n    goods_number: [\r\n        { required: true, message: \"请输入数量\", trigger: \"blur\" },\r\n        { validator: checkNumber, trigger: \"blur\" },\r\n\r\n    ],\r\n    goods_weight: [\r\n        { required: true, message: \"请输入重量\", trigger: \"blur\" },\r\n        { validator: checkWeight, trigger: \"blur\" },\r\n    ],\r\n});\r\n\r\nconst labelPosition = ref('left')\r\nconst size = ref('large')\r\n\r\n//取消按钮\r\nconst resetForm = () => {\r\n    TopicDetailRef.value.resetFields()\r\n}\r\n\r\n//确定按钮\r\nconst AddGoods = async () => {\r\n    const res = await changeGoodsState(TopicDetail.value)\r\n    console.log(res);\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style  lang=\"less\" scoped>\r\n.imgSrc {\r\n    width: 300px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}